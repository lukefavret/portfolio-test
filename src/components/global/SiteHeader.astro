---
// src/components/global/SiteHeader.astro
import NavLink from '@components/ui/NavLink.astro';
import MobileNav from '@components/interactive/MobileNav.tsx';

/**
 * Site Header Component
 *
 * Renders the main header, including the site title and primary navigation.
 * This component is responsive:
 * - On large screens (lg and up), it displays a horizontal navigation bar.
 * - On smaller screens, it displays a hamburger menu that toggles a full-screen
 *   navigation panel.
 *
 * Accessibility:
 * - Uses `<header>` as a top-level landmark.
 * - The navigation is wrapped in `<nav>` with a descriptive `aria-label`.
 * - The mobile navigation is managed by an interactive island (`MobileNav.tsx`)
 *   that handles ARIA attributes (`aria-expanded`, `aria-controls`) and focus.
 */

// Define the navigation links for the site.
const navLinks = [
  { href: '/', text: 'Home' },
  { href: '/portfolio/', text: 'Portfolio' },
  { href: '/about/', text: 'About' },
  { href: '/resume/', text: 'Resume' },
  { href: '/contact/', text: 'Contact' },
];

const { class: className } = Astro.props;
---

<header
  class:list={[
    'sticky top-0 z-30 w-full border-b border-textTertiary bg-surface/80 text-lg backdrop-blur-sm',
    className,
  ]}
>
  <div
    class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8"
  >
    <!-- Site Title / Logo -->
    <a href="/" class="focus-ring font-heading text-3xl font-bold tracking-wide">
      Luke Favret
      <span class="sr-only">Portfolio Home</span>
    </a>

    <!-- Desktop Navigation (Visible on large screens) -->
    <nav aria-label="Primary" class="hidden h-full lg:block">
      <ul class="flex h-full items-stretch font-body">
        {
          navLinks.map((link) => (
            <li class="flex h-full">
              <NavLink href={link.href}>{link.text}</NavLink>
            </li>
          ))
        }
      </ul>
    </nav>

    <!-- Mobile Navigation (Visible on small screens) -->
    <div class="z-50 lg:hidden">
      <MobileNav client:load>
        <!-- The content of the mobile nav panel is passed as a child -->
        <nav
          aria-label="Primary"
          class="flex h-full flex-col items-center justify-center"
        >
          <ul class="flex flex-col items-center gap-y-4 font-body text-2xl">
            {
              navLinks.map((link) => (
                <li>
                  <!-- Re-using the NavLink component for consistent styling -->
                  <NavLink href={link.href}>{link.text}</NavLink>
                </li>
              ))
            }
          </ul>
        </nav>
      </MobileNav>
    </div>
  </div>
</header>
