---
import BaseLayout from '../layouts/BaseLayout.astro';
import SiteHeader from '../components/SiteHeader.astro';
import SiteFooter from '../components/SiteFooter.astro';
import ProjectCard from '../components/ProjectCard.astro';
import Button from '../components/Button.astro';
import { getCollection } from 'astro:content';
const projects = (await getCollection('projects')).sort((a,b)=> new Date(b.data.date)-new Date(a.data.date)).slice(0,4);
---
<BaseLayout title="Home">
  <SiteHeader />
  <main id="main" class="max-w-4xl mx-auto p-4">
    <h1 class="font-serif text-4xl text-center mb-8">Featured Projects</h1>
    {projects.map((p) => <ProjectCard project={p} />)}
    <div class="text-center mt-8">
      <Button href="/portfolio" variant="primary">View all projects â†’</Button>
    </div>
  </main>
  <SiteFooter />
</BaseLayout>
