/*
 * =================================================================
 * ACCESSIBLE FOCUS RING UTILITY
 *
 * This stylesheet defines a highly visible, consistent, and on-brand
 * focus ring for all interactive elements. It is a critical part of
 * meeting WCAG 2.2 AA accessibility requirements.
 *
 * How it works:
 * - We use the `:focus-visible` pseudo-class to show the focus ring
 *   only for keyboard users, not for mouse clicks. This avoids
 *   distracting outlines for pointer users.
 * - The focus ring is an `outline` with an `offset`, which prevents
 *   it from being obscured by other elements and ensures it doesn't
 *   cause layout shifts.
 * - The color is set to our `--color-accent` for brand consistency.
 *
 * This class should be applied to all interactive elements like links,
 * buttons, and form inputs.
 *
 * DO NOT EVER use `outline: none` without providing an alternative,
 * visible focus indicator.
 * =================================================================
 */
@tailwind components;

@layer components {
  .focus-ring {
    @apply rounded-sm; /* Optional: Match the border-radius of the element */
  }

  /*
   * Apply the focus ring styles when the element receives focus
   * via keyboard navigation.
   */
  .focus-ring:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  /*
   * We must also handle the case where a component is "active" but not focused,
   * for example, the current page link in the navigation. This ensures that
   * even if the element is styled differently to indicate its active state,
   * the focus ring remains distinct and visible on top of it.
   *
   * This is a subtle but important detail for robust accessibility.
   */
  .focus-ring[aria-current='page']:focus-visible,
  .focus-ring[aria-selected='true']:focus-visible {
    outline-offset: 4px; /* Increase offset to avoid clash with active styles */
  }
}
